<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js" integrity="sha256-R4pqcOYV8lt7snxMQO/HSbVCFRPMdrhAFMH+vr9giYI=" crossorigin="anonymous"></script>
    <title>Capitalflow Loan Calculator</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="jumbotron col-10 offset-1 bg-white border pt-3 mt-3">
        <div class="row">
          <div class="dropdown col-12">
            <button class="btn btn-primary dropdown-toggle col-12" type="button" id="calc-selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Monthly Repayments Calculator
            </button>
            <hr>
            <div class="dropdown-menu col-6" aria-labelledby="dropdownMenu2">
              <button class="dropdown-item active" type="button" id="monthly-repayment-selector">Monthly Repayments Calculator</button>
              <button class="dropdown-item" type="button" id="repayment-count-selector">Repayment Periods Calculator</button>
              <button class="dropdown-item" type="button" id="interest-rate-selector">Interest Rate Calculator</button>
            </div>
          </div>
        </div>
        <div class="row" id="monthly-repayment-content">
          <div class="col-md-6">
            <h2>
              Description
            </h2>
            <p style="text-align: justify">
              This application calculates the Monthly Repayments on a loan given
              the loan amount and the number of repayments (months). Input the sum of the loan
              (Principal) with either the scroll bar or text box. Then, give
              number of repayments desired to observe the required monthly repayments.
              Hit the calculate button when all inputs are complete.
            </p>
            <hr>
            <form>
              <div class="form-group">
                <div class="form-inline mb-2">
                  <span class="col-6">Principal Value</span>
                  <div class="col-6">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroupPrepend2">€</span>
                      </div>
                      <input type="number" class="form-control" id="monthly-principal-input" min="1.00" max="100000" style="text-align: right">
                    </div>
                  </div>
                </div>
                <input type="range" list="tickmarks-1" class="form-control-range" id="range-1" min="1000" max ="100000" step="100">
                <small id="range-help" class="form-text text-muted">Value of the loan. Use the scroll bar or input box above to change.</small>
                <datalist id="tickmarks-1">
                  <option value="1000" label="10000">1000</option>
                  <option value="25500"></option>
                  <option value="51250">2000</option>
                  <option value="75500"></option>
                  <option value="100000" label="100000"></option>
                </datalist>
              </div>
              <div class="form-group">
                <label for="period-1">Repayment Period (Months)</label>
                <input type="number" class="form-control" id="period-1" step="1" min="1" max="1200" value="12">
                <small id="period-help" class="form-text text-muted">Number of months or repayments.</small>
              </div>
              <button type="button" id="monthly-principal-submit" class="btn btn-primary col-12">Calculate Monthly Repayments</button>
            </form>
          </div>
          <div class="col-md-6">
            <div class="card bg-light mt-5 ">
              <div class="card-header">Results</div>
              <div class="card-body d-none" id="monthly-results-pane">
                <h4 class="card-title">Monthly Repayments of <b>€865.27</b></h4>
                <table>
                  <i>Calculated using the following inputs...</i>
                  <tbody>
                    <tr>
                      <td>
                        Principal Value
                      </td>
                      <td align="right">&nbsp;
                        <b>€</b><b id="monthly-pv-used">10000.00</b>
                      </td>
                    </tr>
                    <tr>
                      <td>Number of Payments
                      </td>
                      <td align="right">&nbsp;
                        <b id="monthly-np-used">12</b>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <p class="card-text"></p>
                  This result was calculated using the Annuity Formula based on a
                  preconfigured interest rate of 7% APR (this is a sample figure).
                  For more information on rates, available packages and terms see
                  <a href="https://www.capitalflow.ie/asset-finance/">asset finance</a>.
                  (Note Monthly rate does not change as no communication is made with
                  backend)
              </div>
              <div class="card-body" id="monthly-starter-pane">
                <p class="card-text">
                  Once the inputs Principal Value and Number of Repayments are
                  selected, the resulting Monthly Repayments will be displayed here!
                </p>
              </div>

            </div>
          </div>
        </div>



        <div class="row d-none" id="repayment-count-content">
          <div class="col-md-6">
            <h2>
              Description
            </h2>
            <p style="text-align: justify">
              This application calculates the Number of Repayments on a loan based
              on the loan amount and the monthly repayments required. Input the loan amount
              (Principal) with either the scroll bar or input box. Then, give
              Monthly Repayment Value desired. Hit the calculate button when all
              inputs are complete to observe the Number of Repayments required.
            </p>
            <hr>
            <form>
              <div class="form-group">
                <div class="form-inline mb-2">
                  <span class="col-6">Principal Value</span>
                  <div class="col-6">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroupPrepend2">€</span>
                      </div>
                      <input type="number" class="form-control" id="repayment-principal-input" min="1.00" max="100000" style="text-align: right" value="3000">
                    </div>
                  </div>
                </div>
                <!-- <label for="formControlRange" id="monthly-prinicipal-1" class="col-4 offset-4">Principal Value</label> -->
                <input type="range" list="tickmarks-1" class="form-control-range" id="repayment-range" min="1000" max ="100000" step="100">
                <small id="range-help" class="form-text text-muted">Value of the loan. Use the scroll bar or input box above to change.</small>
                <datalist id="tickmarks-1">
                  <option value="1000" label="10000">1000</option>
                  <option value="25500"></option>
                  <option value="51250">2000</option>
                  <option value="75500"></option>
                  <option value="100000" label="100000"></option>
                </datalist>
              </div>
              <div class="form-group">
                <label for="period-1">Monthly Repayment Value</label>
                <input type="number" class="form-control" id="monthly-repayment-val" min="1" max="100000" value="250.00">
                <small id="period-help" class="form-text text-muted">Amount paid per month with Interest.</small>
              </div>
              <button type="button" id="repayment-principal-submit" class="btn btn-primary col-12">Calculate Monthly Repayments</button>
            </form>
          </div>
          <div class="col-md-6">
            <div class="card bg-light mt-5 ">
              <div class="card-header">Results</div>
              <div class="card-body d-none" id="repayment-results-pane">
                <h4 class="card-title"><b>207</b> Monthly Repayments</h4>
                <table>
                  <i>Calculated using the following inputs...</i>
                  <tbody>
                    <tr>
                      <td>
                        Principal Value
                      </td>
                      <td align="right">&nbsp;
                        <b>€</b><b id="repayment-pv-used"></b>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        Monthly Repayment Value
                      </td>
                      <td align="right">&nbsp;
                        <b>€</b><b id="repayment-mr-used"></b>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <p class="card-text"></p>
                  This result was calculated using the Annuity Formula based on a
                  preconfigured interest rate of 7% APR (this is a sample figure).
                  For more information on rates, available packages and terms see
                  <a href="https://www.capitalflow.ie/asset-finance/">asset finance</a>.
                  (Note Monthly rate does not change as no communication is made with
                  backend)
              </div>
              <div class="card-body" id="repayment-starter-pane">
                <p class="card-text">
                  Once the inputs for Principal Value and Number of Repayments are
                  entered, the resulting Monthly Repayments will be displayed here
                  after hitting the calculate button.
                </p>
              </div>

            </div>
          </div>
        </div>



        <div class="row d-none" id="interest-rate-content">
          <div class="col-md-6">
            <h2>
              Description
            </h2>
            <p style="text-align: justify">
              This application calculates the Monthly Repayments on a loan given
              the loan amount and the number of repayments (months). Input the sum of the loan
              (Principal) with either the scroll bar or text box. Then, give
              number of repayments desired to observe the required monthly repayments.
              Hit the calculate button when all inputs are complete.
            </p>
            <hr>
            <form>
              <div class="form-group">
                <div class="form-inline mb-2">
                  <span class="col-6">Principal Value</span>
                  <div class="col-6">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroupPrepend2">€</span>
                      </div>
                      <input type="number" class="form-control" id="interest-principal-input" min="1.00" max="100000" style="text-align: right" value="90000">
                    </div>
                  </div>
                </div>
                <input type="range" list="tickmarks-1" class="form-control-range" id="interest-range" min="1000" max ="100000" step="100">
                <small id="range-help" class="form-text text-muted">Value of the loan. Use the scroll bar or input box above to change.</small>
                <datalist id="tickmarks-1">
                  <option value="1000" label="10000">1000</option>
                  <option value="25500"></option>
                  <option value="51250">2000</option>
                  <option value="75500"></option>
                  <option value="100000" label="100000"></option>
                </datalist>
              </div>
              <div class="form-group">
                <label for="period-1">Repayment Period (Months)</label>
                <input type="number" class="form-control" id="interest-period-val" step="1" min="1" max="1200" value="380">
                <small id="period-help" class="form-text text-muted">Number of months or repayments.</small>
              </div>
              <div class="form-group">
                <label for="period-1">Monthly Repayment Value</label>
                <input type="number" class="form-control" id="interest-repayment-val" min="1" max="100000" value="690.40">
                <small id="period-help" class="form-text text-muted">Amount paid per month with Interest.</small>
              </div>
              <button type="button" id="interest-principal-submit" class="btn btn-primary col-12">Calculate Monthly Repayments</button>
            </form>
          </div>
          <div class="col-md-6">
            <div class="card bg-light mt-5 ">
              <div class="card-header">Results</div>
              <div class="card-body d-none" id="interest-results-pane">
                <h4 class="card-title">APR of <b>%8.5938</b></h4>
                <table>
                  <i>Calculated using the following inputs...</i>
                  <tbody>
                    <tr>
                      <td>
                        Principal Value
                      </td>
                      <td align="right">&nbsp;
                        <b>€</b><b id="interest-pv-used"></b>
                      </td>
                    </tr>
                    <tr>
                      <td>Monthly Repayments
                      </td>
                      <td align="right">&nbsp;
                        <b>€</b><b id="interest-mr-used"></b>
                      </td>
                    </tr>
                    <tr>
                      <td>Number of Payments
                      </td>
                      <td align="right">&nbsp;
                        <b id="interest-np-used"></b>
                      </td>
                    </tr>
                    <tr>
                      <td>Above 5% APR Threshold?
                      </td>
                      <td align="right">&nbsp;
                        <b id="interest-threshold-used">Yes</b>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <div class="card-body" id="chart-content">
                  <canvas id="interest-principal-chart" width="400" height="400"></canvas>
                  <script type="text/javascript">
                    var ctx = document.getElementById("interest-principal-chart");
                    var pv = parseInt(document.getElementById('interest-pv-used').val);
                    var interestPrincipalChart = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Percentage Interest', 'Percentage Principal'],
                            datasets: [{
                                label: '%',
                                data: [8.5, 91.5],
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)'
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {}
                    });
                  </script>
                </div>
              </div>
              <div class="card-body" id="interest-starter-pane">
                <p class="card-text">
                  Once the inputs Principal Value and Number of Repayments are
                  selected, the resulting Monthly Repayments will be displayed here!
                </p>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/calcSwitcher.js"></script>
    <script type="text/javascript" src="js/monthlyCalc.js"></script>
    <script type="text/javascript" src="js/repaymentCalc.js"></script>
    <script type="text/javascript" src="js/interestCalc.js"></script>
  </body>
</html>
